<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>THE DAYLUGE</title>

<!-- Netlify Identity Widget for CMS -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<!-- Vintage typewriter font -->
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">

<style>
  :root{
    /* Link color palette (darker blue/green) */
    --red:#cc0000; 
    --orange:#ff6600; 
    --green:#005f00;      /* darker green */
    --lime:#228b22; 
    --blue:#003366;       /* darker blue */
    --light-blue:#000066; 
    --indigo:#4b0082; 
    --violet:#6600cc; 
    --pink:#ff3399;

    /* Neutral newspaper tones */
    --ink:#111; 
    --rule:#bfbfbf;
    --maxw:1400px;

    --panel-bg:#ffffffee;
    --panel-border:#cfcfcf;
  }

  /* Color classes for links */
  .c-red{color:var(--red)}
  .c-orange{color:var(--orange)}
  .c-green{color:var(--green)}
  .c-lime-green{color:var(--lime)}
  .c-blue{color:var(--blue)}
  .c-light-blue{color:var(--light-blue)}
  .c-indigo{color:var(--indigo)}
  .c-violet{color:var(--violet)}
  .c-pink{color:var(--pink)}
  .c-purple{color:var(--violet)}
  .c-black{color:#000}

  *{box-sizing:border-box;margin:0;padding:0}
  html, body {height:100%}

  /* Simple white background */
  body{
    font-family:'Special Elite', monospace;
    color:var(--ink);
    line-height:1.5;
    background:#fff;
    padding:20px;
    position:relative;
  }

  .wrap{max-width:var(--maxw); margin:0 auto; position:relative; z-index:1;}

  header{text-align:center; margin-bottom:10px;}
  h1{text-transform:uppercase; letter-spacing:.5px; font-size:36px; cursor:pointer;}

  nav{
    text-align:center; margin:8px 0 18px; padding-bottom:10px;
    border-bottom:1px dashed var(--rule);
  }
  nav a{color:#333; text-decoration:none; font-weight:bold; margin:0 12px;}
  nav a:hover{text-decoration:underline;}

  /* 3-column layout on desktop; 2 on tablet; 1 on mobile */
  .grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px 18px;
    margin-top:10px;
  }
  @media(max-width:900px){.grid{grid-template-columns:repeat(2,1fr);}}
  @media(max-width:600px){.grid{grid-template-columns:1fr;} h1{font-size:28px;}}

  .link a{
    display:block;
    font-size:20px;
    font-weight:bold;
    text-decoration:none;
    word-break:break-word;
    padding:2px 0;
    text-shadow:0 .2px 0 rgba(0,0,0,0.35);
  }
  .link a:hover{text-decoration:underline;}

  /* Quick admin button */
  .admin-btn{
    position:fixed;
    bottom:20px;
    right:20px;
    background:var(--panel-bg);
    border:2px solid var(--panel-border);
    border-radius:50px;
    padding:12px 20px;
    font-family:inherit;
    font-weight:bold;
    text-decoration:none;
    color:var(--ink);
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    z-index:100;
  }
  .admin-btn:hover{
    background:#f0f0f0;
    text-decoration:none;
  }

  /* Archive modal */
  .archive-link{font-size:12px; color:#333; text-decoration:underline; cursor:pointer; margin-left:8px;}
  .archive-modal{
    display:none; position:fixed; inset:0; z-index:50; background:rgba(0,0,0,0.4);
    align-items:center; justify-content:center; padding:16px;
  }
  .archive-modal.show{display:flex;}
  .archive-card{
    background:#fff; border-radius:10px; padding:16px; max-width:800px; width:100%;
    max-height:80vh; overflow:auto; border:1px solid #ddd; box-shadow:0 10px 26px rgba(0,0,0,0.25);
  }
  .archive-card h3{margin-bottom:10px;}
  .archive-list .link a{font-size:16px;}
  .archive-close{float:right; cursor:pointer; font-weight:bold;}

  .loading{text-align:center; color:#666; margin:40px 0;}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>THE DAYLUGE</h1>
  </header>
  <nav>
    <a href="/">Home</a> 
    <a id="openArchive" class="archive-link">Archive</a>
    <a href="/admin/" target="_blank">Admin</a>
  </nav>

  <!-- Archive Modal -->
  <div id="archiveModal" class="archive-modal" aria-hidden="true">
    <div class="archive-card">
      <span id="closeArchive" class="archive-close">✕</span>
      <h3>Archive</h3>
      <div id="archiveList" class="archive-list"></div>
    </div>
  </div>

  <!-- Grid of links -->
  <div id="grid" class="grid">
    <div class="loading">Loading links...</div>
  </div>
</div>

<!-- Quick admin access -->
<a href="/admin/" class="admin-btn" target="_blank">+ Add Link</a>

<script>
const MAX_ACTIVE = 48;
let allLinks = [];

function escapeHTML(s){ 
  return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); 
}

// Your exact curated links preserved
function displayCuratedLinks() {
  const curatedLinks = [
    {title:"The Best Performing Fund in Modern History", url:"https://www.visualcapitalist.com/growth-of-100-invested-in-jim-simons-medallion-fund/", color:"c-green", status:"active"},
    {title:"The Pyramid Power Plant Theory", url:"https://www.youtube.com/shorts/0Phz6wnq_GU", color:"c-pink", status:"active"},
    {title:"\"Kryptos\" - The Unsolved Secret Code at CIA Headquarters", url:"https://www.history.com/articles/kryptos-cia-sculpture-mystery-code", color:"c-purple", status:"active"},
    {title:"The Vegas Shooting Is A Layered Onion of \"Max Conspiracy\"", url:"https://youtu.be/HdllGyweF7c?si=qX95ftQDHqHYKE_j", color:"c-pink", status:"active"},
    {title:"The \"Classic Part\" Little Boy Has the Right Attitude", url:"https://www.instagram.com/reel/C0XBYjXRPGY/?igsh=MWVxNG56cDF3a2Jzcg%3D%3D", color:"c-light-blue", status:"active"},
    {title:"This Teacher Loves His Students", url:"https://www.instagram.com/reel/DLflv5zOUGA/?igsh=MTUwdDV0M3VobmFtYw%3D%3D", color:"c-light-blue", status:"active"},
    {title:"Diddy's Arrest Is Part of Something Bigger", url:"https://example.com", color:"c-orange", status:"active"},
    {title:"Systemic Corruption Doesn't Give A Chance For Peace In Ukraine", url:"https://www.zerohedge.com/geopolitical/systemic-corruption-doesnt-give-chance-peace-ukraine", color:"c-orange", status:"active"},
    {title:"1910: The Year the Modern World Lost Its Mind", url:"https://www.derekthompson.org/p/1910-the-year-the-modern-world-lost", color:"c-purple", status:"active"},
    {title:"US Federal Debt Surging At +$21 Billion Per Day", url:"https://x.com/KobeissiLetter/status/1959636646925852986", color:"c-green", status:"active"},
    {title:"Ghislaine Maxwell: Trump 'Was Never Inappropriate'", url:"https://www.zerohedge.com/political/ghislaine-maxwell-says-father-was-intelligence-asset-trump-was-never-inappropriate-doj", color:"c-red", status:"active"},
    {title:"All-Time High in Cocaine Production", url:"https://geopoliticalfutures.com/an-all-time-high-in-cocaine-production/", color:"c-orange", status:"active"},
    {title:"Going Full Bud Light", url:"https://thefederalist.com/2025/08/21/cracker-barrel-is-dead-and-its-stupid-woke-ceo-killed-it-with-gay-nonsense/", color:"c-green", status:"active"},
    {title:"Gates, Ballmer and Pals Rocking Out HARD to Windows 95", url:"https://x.com/engineers_feed/status/1959628877711487203", color:"c-violet", status:"active"},
    {title:"1954: Bikini Atoll Nuclear Test 1000x Stronger Than Hiroshima", url:"https://x.com/Rainmaker1973/status/1959655344709173469", color:"c-purple", status:"active"},
    {title:"They Found Giants In A Cave", url:"https://www.youtube.com/watch?v=x9cVcGQNxBw", color:"c-pink", status:"active"},
    {title:"10 Must-Watch War Shows, Ranked", url:"https://collider.com/best-war-shows-must-watch-ranked/", color:"c-blue", status:"active"},
    {title:"Credit Card Delinquencies Surging", url:"https://x.com/onechancefreedm/status/1959315977830903826", color:"c-green", status:"active"},
    {title:"Israel Targets Yemen's Capital With Massive Strikes", url:"https://www.zerohedge.com/geopolitical/watch-israel-targets-yemens-capital-massive-strikes-near-presidential-complex-missile", color:"c-red", status:"active"},
    {title:"Watch Global Local TV Online", url:"https://tv.garden/", color:"c-blue", status:"active"},
    {title:"7 Brilliant Acts of Psychological Warfare in History", url:"https://www.history.com/articles/brilliant-psyops-psychological-warfare", color:"c-purple", status:"active"},
    {title:"Dave Smith: \"I Was A Militant Atheist\"", url:"https://www.youtube.com/watch?v=F4M1MlBZyI0", color:"c-orange", status:"active"},
    {title:"The Smithsonian Has Jumped the Shark", url:"https://www.washingtonexaminer.com/opinion/editorials/3777258/smithsonian-long-overdue-for-housecleaning/", color:"c-orange", status:"active"},
    {title:"How Did Moscow Become Europe's Biggest City?", url:"https://unchartedterritories.tomaspueyo.com/p/why-is-moscow-so-weird", color:"c-purple", status:"active"},
    {title:"Cost of Attending an NFL Game +40% in 10 Years", url:"https://www.zerohedge.com/markets/cost-attending-nfl-game-has-risen-40-last-10-years", color:"c-blue", status:"active"},
    {title:"'Holy Grail' Jordan–Bryant Card Sells for $12.9M", url:"https://www.espn.com/nba/story/_/id/46061949/holy-grail-jordan-bryant-sports-card-sells-record-129m", color:"c-purple", status:"active"},
    {title:"Which New NFL Coaches Are in the Best Position to Win?", url:"https://www.espn.com/nfl/story/_/id/46039656/nfl-new-head-coaches-outlooks-predictions-2025", color:"c-violet", status:"active"},
    {title:"Six Tips from the Middle Ages on How to Beat the Summer Heat", url:"https://theconversation.com/six-tips-from-the-middle-ages-on-how-to-beat-the-summer-heat-263290", color:"c-blue", status:"active"},
    {title:"Twilight of the House of Lords", url:"https://crisismagazine.com/opinion/christendoms-last-gasp-the-twilight-of-the-house-of-lords?utm_source=Crisis+Magazine&utm_campaign=fb27a8ddfa-Crisis_DAILYRSS_EMAIL&utm_medium=email&utm_term=0_a5a13625fd-fb27a8ddfa-21139129&mc_cid=fb27a8ddfa&mc_eid=f42f0d2b82", color:"c-orange", status:"active"},
    {title:"Gold International Reserves are SURGING", url:"https://x.com/GlobalMktObserv/status/1959654438332670436", color:"c-green", status:"active"}
  ];
  
  allLinks = curatedLinks;
  renderGrid();
}

function renderGrid() {
  const gridEl = document.getElementById('grid');
  const activeLinks = allLinks.filter(link => link.status === 'active').slice(0, MAX_ACTIVE);
  
  gridEl.innerHTML = activeLinks.map(link => `
    <div class="link">
      <a class="${link.color || 'c-black'}" href="${link.url}" target="_blank" rel="noopener">
        ${escapeHTML(link.title)}
      </a>
    </div>
  `).join('');
}

function renderArchive() {
  const archiveList = document.getElementById('archiveList');
  const archivedLinks = allLinks.filter(link => link.status === 'archived');
  
  if (!archivedLinks.length) {
    archiveList.innerHTML = '<p style="color:#555;">Archive is empty.</p>';
    return;
  }
  
  archiveList.innerHTML = archivedLinks.map(link => `
    <div class="link">
      <a class="${link.color || 'c-black'}" href="${link.url}" target="_blank" rel="noopener">
        ${escapeHTML(link.title)}
      </a>
    </div>
  `).join('');
}

// Archive modal handlers
document.getElementById('openArchive').addEventListener('click', (e) => {
  e.preventDefault();
  renderArchive();
  document.getElementById('archiveModal').classList.add('show');
  document.getElementById('archiveModal').setAttribute('aria-hidden', 'false');
});

document.getElementById('closeArchive').addEventListener('click', () => {
  document.getElementById('archiveModal').classList.remove('show');
  document.getElementById('archiveModal').setAttribute('aria-hidden', 'true');
});

document.getElementById('archiveModal').addEventListener('click', (e) => {
  if (e.target === document.getElementById('archiveModal')) {
    document.getElementById('archiveModal').classList.remove('show');
    document.getElementById('archiveModal').setAttribute('aria-hidden', 'true');
  }
});

// Netlify Identity for CMS access
if (window.netlifyIdentity) {
  window.netlifyIdentity.on("init", user => {
    if (!user) {
      window.netlifyIdentity.on("login", () => {
        document.location.href = "/admin/";
      });
    }
  });
}

// Load the links when page loads
displayCuratedLinks();
</script>
</body>
</html>
