<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Conspiracy Corner - THE DAYLUGE</title>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite:wght@400&display=swap" rel="stylesheet">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Special+Elite:wght@400&display=swap');

    :root {
      --crt-green: #00FF7F;
      --black-bg: #000000;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: 'Special Elite', 'Courier New', Courier, monospace;
      color: var(--crt-green);
      line-height: 1.3;
      background: var(--black-bg);
      padding: 10px;
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
    }

    #particle-canvas {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: 1;
      pointer-events: none;
    }

    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 5;
      padding-top: 20px;
    }

    .title-container {
      display: flex;
      align-items: center;
      max-width: 800px;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .block-title {
      font-family: 'Special Elite', 'Courier New', Courier, monospace;
      font-size: 18px;
      text-transform: uppercase;
      font-weight: 900;
      text-align: left;
      color: var(--crt-green);
      text-shadow: 0 0 8px var(--crt-green), 2px 2px 4px rgba(0,0,0,0.8);
      animation: flicker 2s infinite;
    }

    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.85; }
    }

    .conspiracy-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 20px;
    }

    .conspiracy-section {
      background: rgba(0,0,0,0.7);
      padding: 15px;
      border-radius: 5px;
      border: 1px solid var(--crt-green);
      box-shadow: 0 0 10px rgba(0,255,127,0.3);
    }

    .section-title {
      font-family: 'Special Elite', 'Courier New', Courier, monospace;
      font-size: 16px;
      color: var(--crt-green);
      margin-bottom: 10px;
      text-transform: uppercase;
      font-weight: bold;
      text-shadow: 0 0 5px var(--crt-green);
    }

    .headlines {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .headline {
      font-size: 14px;
      margin-bottom: 5px;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeIn 0.5s ease forwards, typing 1.5s steps(20, end);
    }

    .headline a {
      color: var(--crt-green);
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .headline a:hover {
      color: var(--crt-green);
      text-shadow: 0 0 10px var(--crt-green);
    }

    .headlines .headline:nth-child(1) { animation-delay: 0s; }
    .headlines .headline:nth-child(2) { animation-delay: 0.2s; }
    .headlines .headline:nth-child(3) { animation-delay: 0.4s; }

    @keyframes fadeIn {
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }

    .go-deeper, .random-button {
      display: inline-block;
      background: transparent;
      color: var(--crt-green);
      padding: 8px 16px;
      border: 1px solid var(--crt-green);
      border-radius: 20px;
      font-family: 'Special Elite', 'Courier New', Courier, monospace;
      font-size: 12px;
      font-weight: bold;
      text-transform: uppercase;
      text-decoration: none;
      transition: all 0.3s ease;
      text-shadow: 0 0 5px var(--crt-green);
    }

    .go-deeper:hover, .random-button:hover {
      background: rgba(0,255,127,0.1);
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0,255,127,0.3);
    }

    .button-container {
      margin: 20px auto;
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .home-btn {
      position: fixed;
      bottom: 20px; right: 20px;
      background: transparent;
      color: var(--crt-green);
      padding: 8px 16px;
      border: 1px solid var(--crt-green);
      border-radius: 20px;
      font-family: 'Special Elite', 'Courier New', Courier, monospace;
      font-size: 12px;
      font-weight: bold;
      text-transform: uppercase;
      text-decoration: none;
      text-shadow: 0 0 5px var(--crt-green);
      transition: all 0.3s ease;
    }

    .home-btn:hover {
      background: rgba(0,255,127,0.1);
      box-shadow: 0 0 15px rgba(0,255,127,0.3);
      transform: scale(1.05);
    }

    @media (max-width: 900px) {
      .conspiracy-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 600px) {
      .conspiracy-grid {
        grid-template-columns: 1fr;
      }
      .block-title { font-size: 16px; }
      .section-title { font-size: 14px; }
      .headline { font-size: 13px; }
      .go-deeper, .random-button { font-size: 10px; padding: 6px 12px; }
      .home-btn { font-size: 10px; padding: 6px 12px; }
      .title-container { flex-direction: row; align-items: center; }
    }
  </style>
</head>
<body>
  <a href="/" class="home-btn">‚Üê Home</a>
  <canvas id="particle-canvas"></canvas>
  <div class="wrap">
    <div class="conspiracy-news">
      <div class="title-container">
        <div class="block-title conspiracy-news-title">Conspiracy Corner</div>
      </div>
      <div class="conspiracy-grid" id="conspiracy-grid"></div>
    </div>
    <div class="button-container">
      <button class="random-button" onclick="goToRandomConspiracy()">SURPRISE ME!</button>
    </div>
  </div>
  <script>
    // Particle effect
    const canvas = document.getElementById('particle-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const particlesArray = [];
    const numberOfParticles = 50;
    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 2 + 1;
        this.speedX = Math.random() * 1.5 - 0.75;
        this.speedY = Math.random() * 1.5 - 0.75;
        this.color = '#00FF7F';
        this.hasTail = Math.random() < 0.25;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        if (this.x < 0 || this.x > canvas.width) this.speedX = -this.speedX;
        if (this.y < 0 || this.y > canvas.height) this.speedY = -this.speedY;
      }
      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.shadowBlur = 8;
        ctx.shadowColor = this.color;
        if (this.hasTail) {
          const gradient = ctx.createLinearGradient(
            this.x, this.y,
            this.x - this.speedX * 10, this.y - this.speedY * 10
          );
          gradient.addColorStop(0, this.color + '33');
          gradient.addColorStop(1, 'transparent');
          ctx.beginPath();
          ctx.moveTo(this.x, this.y);
          ctx.lineTo(this.x - this.speedX * 10, this.y - this.speedY * 10);
          ctx.strokeStyle = gradient;
          ctx.lineWidth = this.size;
          ctx.stroke();
        }
      }
    }
    function init() {
      particlesArray.length = 0;
      for (let i = 0; i < numberOfParticles; i++) {
        particlesArray.push(new Particle());
      }
    }
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (const particle of particlesArray) {
        particle.update();
        particle.draw();
      }
      requestAnimationFrame(animate);
    }
    init();
    animate();
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      init();
    });

    // Load conspiracy links from text file
    async function loadConspiracyLinks() {
      const topics = [
        'Moon Landing Hoax',
        'Roswell Incident',
        'Antarctic Mysteries',
        'Egyptian Pyramid Secrets',
        'JFK Assassination Truths',
        'The Vegas Shooting',
        'All Things Covid',
        'Epstein\'s Web',
        'False Flag Operations',
        'Ancient Bloodline Secrets',
        'Erased Ancient Truths',
        'Miscellaneous'
      ];

      let groupedLinks = {};
      topics.forEach(topic => groupedLinks[topic] = []);
      try {
        const response = await fetch('/conspiracy-corner-links.txt');
        if (!response.ok) throw new Error('Failed to fetch links');
        const text = await response.text();
        const lines = text.trim().split('\n');
        const allLinks = lines
          .map(line => {
            const [title, url, topic] = line.split('|').map(item => item.trim());
            const normalizedTopic = topic === 'MK Ultra Exposed' ? 'Miscellaneous' : topic;
            return { title, url, topic: normalizedTopic };
          })
          .filter(link => link.title && link.url && link.topic);

        allLinks.forEach(link => {
          if (groupedLinks[link.topic]) {
            groupedLinks[link.topic].push(link);
          } else {
            groupedLinks['Miscellaneous'].push(link);
          }
        });

        const displayLinks = [];
        const archiveLinksByTopic = {};
        topics.forEach(topic => {
          archiveLinksByTopic[topic] = groupedLinks[topic].slice(3);
          displayLinks.push(...groupedLinks[topic].slice(0, 3));
        });

        localStorage.setItem('archiveLinksByTopic', JSON.stringify(archiveLinksByTopic));

        const grid = document.getElementById('conspiracy-grid');
        if (grid) {
          const columns = [[], [], []];
          topics.forEach((topic, index) => {
            const columnIndex = Math.floor(index / 4);
            const sectionLinks = groupedLinks[topic].slice(0, 3);
            const urlSlug = topic.toLowerCase().replace(/[^a-z0-9]+/g, '-');
            const sectionHtml = `
              <div class="conspiracy-section">
                <div class="section-title">${topic}</div>
                <ul class="headlines">
                  ${sectionLinks.length > 0 ? sectionLinks.map(link => `
                    <li class="headline">
                      <a href="${link.url}" target="_blank">${link.title}</a>
                    </li>
                  `).join('') : '<li class="headline">No links available</li>'}
                </ul>
                ${archiveLinksByTopic[topic].length > 0 ? `<a href="/conspiracy-corner-archive.html?topic=${urlSlug}" class="go-deeper">View ${topic} Archive</a>` : ''}
              </div>
            `;
            columns[columnIndex].push(sectionHtml);
          });

          grid.innerHTML = columns.map(column => `
            <div class="column">
              ${column.join('')}
            </div>
          `).join('');
        }

        console.log(`Showing ${displayLinks.length} links across ${topics.length} topics`);
        console.log('Archived links by topic:', archiveLinksByTopic);
      } catch (error) {
        console.error('Error loading conspiracy links:', error);
        topics.forEach(topic => {
          const urlSlug = topic.toLowerCase().replace(/[^a-z0-9]+/g, '-');
          groupedLinks[topic] = [
            { title: `Link 1`, url: `https://example.com/${urlSlug}/1`, topic },
            { title: `Link 2`, url: `https://example.com/${urlSlug}/2`, topic },
            { title: `Link 3`, url: `https://example.com/${urlSlug}/3`, topic }
          ];
        });
        const displayLinks = [];
        const archiveLinksByTopic = {};
        topics.forEach(topic => {
          archiveLinksByTopic[topic] = [];
          displayLinks.push(...groupedLinks[topic]);
        });
        const grid = document.getElementById('conspiracy-grid');
        if (grid) {
          const columns = [[], [], []];
          topics.forEach((topic, index) => {
            const columnIndex = Math.floor(index / 4);
            const sectionLinks = groupedLinks[topic];
            const urlSlug = topic.toLowerCase().replace(/[^a-z0-9]+/g, '-');
            const sectionHtml = `
              <div class="conspiracy-section">
                <div class="section-title">${topic}</div>
                <ul class="headlines">
                  ${sectionLinks.map(link => `
                    <li class="headline">
                      <a href="${link.url}" target="_blank">${link.title}</a>
                    </li>
                  `).join('')}
                </ul>
                <a href="/conspiracy-corner-archive.html?topic=${urlSlug}" class="go-deeper">View ${topic} Archive</a>
              </div>
            `;
            columns[columnIndex].push(sectionHtml);
          });
          grid.innerHTML = columns.map(column => `
            <div class="column">
              ${column.join('')}
            </div>
          `).join('');
        }
        console.log(`Showing ${displayLinks.length} placeholder links due to error`);
      }
    }

    async function goToRandomConspiracy() {
      try {
        const response = await fetch('/conspiracy-corner-links.txt');
        if (!response.ok) throw new Error('Failed to fetch links');
        const text = await response.text();
        const lines = text.trim().split('\n');
        const displayLinks = lines
          .map(line => {
            const [title, url, topic] = line.split('|').map(item => item.trim());
            const normalizedTopic = topic === 'MK Ultra Exposed' ? 'Miscellaneous' : topic;
            return { title, url, topic: normalizedTopic };
          })
          .filter(link => link.title && link.url && link.topic);

        const groupedLinks = {};
        const topics = [
          'Moon Landing Hoax',
          'Roswell Incident',
          'Antarctic Mysteries',
          'Egyptian Pyramid Secrets',
          'JFK Assassination Truths',
          'The Vegas Shooting',
          'All Things Covid',
          'Epstein\'s Web',
          'False Flag Operations',
          'Ancient Bloodline Secrets',
          'Erased Ancient Truths',
          'Miscellaneous'
        ];
        topics.forEach(topic => groupedLinks[topic] = []);
        displayLinks.forEach(link => {
          if (groupedLinks[link.topic]) {
            groupedLinks[link.topic].push(link);
          } else {
            groupedLinks['Miscellaneous'].push(link);
          }
        });

        const allDisplayLinks = [];
        topics.forEach(topic => allDisplayLinks.push(...groupedLinks[topic].slice(0, 3)));
        if (allDisplayLinks.length > 0) {
          const randomLink = allDisplayLinks[Math.floor(Math.random() * allDisplayLinks.length)];
          window.open(randomLink.url, '_blank');
        }
      } catch (error) {
        console.error('Error loading random conspiracy link:', error);
        const topics = [
          'Moon Landing Hoax',
          'Roswell Incident',
          'Antarctic Mysteries',
          'Egyptian Pyramid Secrets',
          'JFK Assassination Truths',
          'The Vegas Shooting',
          'All Things Covid',
          'Epstein\'s Web',
          'False Flag Operations',
          'Ancient Bloodline Secrets',
          'Erased Ancient Truths',
          'Miscellaneous'
        ];
        const displayLinks = [];
        topics.forEach(topic => {
          const urlSlug = topic.toLowerCase().replace(/[^a-z0-9]+/g, '-');
          displayLinks.push(
            { title: `Link 1`, url: `https://example.com/${urlSlug}/1`, topic },
            { title: `Link 2`, url: `https://example.com/${urlSlug}/2`, topic },
            { title: `Link 3`, url: `https://example.com/${urlSlug}/3`, topic }
          );
        });
        if (displayLinks.length > 0) {
          const randomLink = displayLinks[Math.floor(Math.random() * displayLinks.length)];
          window.open(randomLink.url, '_blank');
        }
      }
    }

    document.addEventListener('DOMContentLoaded', loadConspiracyLinks);
  </script>
</body>
</html>
